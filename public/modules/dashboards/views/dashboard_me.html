<!--div class="bg-light lter b-b wrapper-md">
    <h2 class="m-n font-thin h2">Dashboards</h2>
</div-->

<div id="page-wrapper" >

        <div class="wrapper bg-white b-b">
            <ul class="nav nav-pills nav-sm">
                <li ng-repeat="dashboard in dashboards" ng-class="{ active:tab === '{{dashboard.name}}' }">
                    <a href ng-click="setTab(dashboard.name)"> {{dashboard.name}}</a>
                </li>
            </ul>
        </div>

    <div class="wrapper-md" >

         <div ng-repeat="dashboard in dashboards" ng-show="tab === '{{dashboard.name}}'">

             <div  ui-sortable  >
                <div class="row"  ng-repeat="section in dashboard.sections">

                <div class="col-lg-12">
                    <h3 class="row-header" style="cursor:move" >{{section.name}}</h3>
                </div>

                <div class="panels" ui-sortable ng-model="section.panels">
                    <div ng-class="{'col-md-3': panel.size == 'small', 'col-md-6': panel.size == 'medium', 'col-md-9': panel.size == 'large'}" ng-repeat="panel in section.panels | orderPanel:section.name:dashboard._id">

                        <panel-switch style="cursor:move"  ng-if="panel.type=='switch'" name="{{panel.name}}" url="{{panel.device.url}}" topic="/{{currentUser.key}}/{{panel.device.name}}/{{panel.sensor.tag}}" key="{{currentUser.key}}" tag="{{panel.sensor.tag}}"> </panel-switch>

                        <panel-gauge style="cursor:move"  ng-if="panel.type=='gauge'" name="{{panel.name}}" url="{{panel.device.url}}" topic="/{{currentUser.key}}/{{panel.device.name}}/{{panel.sensor.tag}}" key="{{currentUser.key}}" > </panel-gauge>

                        <panel-info style="cursor:move"  ng-if="panel.type=='info'" name="{{panel.name}}" url="{{panel.device.url}}" topic="/{{currentUser.key}}/{{panel.device.name}}/{{panel.sensor.tag}}" key="{{currentUser.key}}"> </panel-info>

                        <panel-d3-chart style="cursor:move"  ng-if="panel.type=='d3-chart'" name="{{panel.name}}" url="{{panel.device.url}}"  topic="/{{currentUser.key}}/{{panel.device.name}}/{{panel.sensor.tag}}" key="{{currentUser.key}}"  > </panel-d3-chart>

                        <panel-camera style="cursor:move"  ng-if="panel.type=='camera'" name="{{panel.name}}" url="{{panel.camera.url}}" login="{{panel.camera.login}}" password="{{panel.camera.password}}"  > </panel-camera>

                    </div>
                </div>
            </div>
             </div>

         </div>
    </div>
</div>
